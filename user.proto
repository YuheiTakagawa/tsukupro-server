syntax = "proto3";

package proto;

service Tsukupro {
    rpc NewUser (User) returns (Status) {
    }

    rpc EditProf (Proreq) returns (Status) {
    }

    rpc SearchProf (UserId) returns (ProreqList) {
    }

    rpc SendJudge (Judge) returns (Status) {
    }
}

// confirm between server
message User {
    int32 user_id = 1;
    string name = 2;
    string birth = 3; 
}

message Proreq {
    string tx_id = 1;
    int32 user_id = 2;
    int32 type = 3;
    bytes data = 4;
}

// uses only in response
message Status {
    string message = 1;
}

message ProreqList {
    repeated Proreq req = 1;
}

message UserId {
    int32 id = 1;
}

message Judge {
    int32 user_id = 1;
    string tx_id = 2;
    bool res = 3;
}
